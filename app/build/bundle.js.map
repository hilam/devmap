{"version":3,"sources":["webpack:///./client/index.js","webpack:///./client/components/grid.js","webpack:///./client/components/index.js","webpack:///./client/components/mapdetail.js","webpack:///./client/devtool.js","webpack:///./client/reducers/index.js","webpack:///./client/reducers/maps.js","webpack:///./client/routes.js","webpack:///./client/sagas/index.js","webpack:///./client/sagas/mapsaga.js","webpack:///./client/serviceloader.js","webpack:///./client/store.js","webpack:///./client/actions/index.js","webpack:///./client/actions/mapaction.js"],"names":["navigator","loader","on","reg","console","log","postMessage","action","document","getElementById","actionCreators","GridList","props","update","maps","map","x","i","mapStateToProps","state","mapDispatchToProps","dispatch","App","width","children","MapDetail","name","description","id","apiName","margin","color","align","reducers","type","routes","rootSaga","createMapSaga","getMapDetails","getMaps","get","results","data","ServiceLoader","scriptname","script","onSuccess","bind","onError","serviceWorker","register","then","catch","err","waiting","installing","self","controller","emit","track","onTrack","addEventListener","window","location","reload","error","event","enhancers","sagaMiddleWare","middleware","process","env","NODE_ENV","instrument","store","run"],"mappings":"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","file":"bundle.js","sourcesContent":["import React from 'react';\nimport {\n    render\n}\nfrom 'react-dom';\nimport routes from './routes';\nimport {\n    Provider\n}\nfrom 'react-redux';\nimport store from './store';\nimport Sloader from './serviceloader';\n\nif ('serviceWorker' in navigator) {\n    const loader = new Sloader('./sw.js');\n    loader.on('update', function(reg){\n        console.log('updating');\n        reg.postMessage({\n            action: 'skip'\n        });\n    });\n    loader.on('installed', () => {console.log(\"installed\")});\n}\n\nrender((<Provider store={store}>{routes}</Provider>), document.getElementById(\"app\"));\n\n\n\n// WEBPACK FOOTER //\n// ./client/index.js","import React, {Component, PropTypes} from 'react';\nimport {Grid, Card, Cell, CardTitle, CardText, CardActions, Button} from 'react-mdl';\nimport MapDetail from './mapdetail';\nimport {connect} from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as actionCreators from '../actions';\n\n\nclass GridList extends Component{\n    constructor(props){\n        super(props);\n    }\n    \n    componentWillMount(){\n        this.props.update();\n    }\n\n    render(){\n        const {maps} = this.props;\n        console.log(maps);\n        return (<Grid>\n            <Cell col={12} align=\"middle\">\n                {maps.map((x, i) => <MapDetail {...x} key={i}/>)}\n            </Cell>\n            </Grid>);\n    }\n}\n\nlet mapStateToProps = (state) => ({\n   maps: state.maps\n});\n\nlet mapDispatchToProps = (dispatch) => bindActionCreators(actionCreators, dispatch) ;\n\nGridList = connect(mapStateToProps, mapDispatchToProps)(GridList);\n\nexport default GridList;\n\n\n// WEBPACK FOOTER //\n// ./client/components/grid.js","import React, {Component} from 'react';\nimport {Layout, Header, Navigation, Content} from 'react-mdl';\nimport GridList from './grid';\n\nclass App extends Component{\n    constructor(props){\n        super(props);\n    }\n\n    render(){\n        return (<div style={{width: 100}}>\n            <Layout fixedHeader>\n                <Header title=\"DEVMAP\"/>\n                {this.props.children}\n            </Layout>\n        </div>);\n    }\n}\n\nexport {App};\nexport {GridList};\n\n\n// WEBPACK FOOTER //\n// ./client/components/index.js","import React, {Component, PropTypes} from 'react';\nimport {Card, CardText, CardTitle, CardActions, Button} from 'react-mdl';\nimport { Link } from 'react-router';\n\nclass MapDetail extends Component{\n    constructor(props){\n        super(props);\n    }\n\n    render(){\n        const {name, description, id} = this.props;\n        const apiName = \"/view/\"+id;\n        return (<Card  shadow={1} style={{margin: '5px auto'}}>\n          <CardTitle expand style={{color: 'blue', align: 'center'}}>{name}</CardTitle>\n          <CardText>\n              {description}\n         </CardText>\n          <CardActions border>\n            <Button primary><Link to={apiName}>View Map</Link></Button>\n          </CardActions>\n        </Card>);\n    }\n}\n\nexport default MapDetail;\n\n\n// WEBPACK FOOTER //\n// ./client/components/mapdetail.js","import React from 'react';\nimport {createDevTools} from 'redux-devtools';\nimport LogMonitor from 'redux-devtools-log-monitor';\nimport DockMonitor from 'redux-devtools-dock-monitor';\nimport Dispatcher from 'redux-devtools-dispatch';\nimport SliderMonitor from 'redux-slider-monitor';\n/**\n * Create the DevTools component and export it.\n */\nexport default createDevTools(\n  <DockMonitor\n    toggleVisibilityKey='ctrl-h'\n    changePositionKey='ctrl-q'\n    changeMonitorKey=\"ctrl-m\"\n    defaultIsVisible={true}\n  >\n    <LogMonitor theme='tomorrow' />\n    <Dispatcher />\n    <SliderMonitor keyboardEnabled />\n  </DockMonitor>\n);\n\n\n// WEBPACK FOOTER //\n// ./client/devtool.js","import { combineReducers } from \"redux\";\nimport maps from './maps';\nexport const reducers = combineReducers({maps});\n\n\n// WEBPACK FOOTER //\n// ./client/reducers/index.js","export default function maps(state=[], action){\n    switch(action.type){\n        case 'UPDATE_MAPS':\n            return [...state, ...action.maps];\n        default:\n            return state;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./client/reducers/maps.js","import {Router, Route, IndexRoute, Link, browserHistory} from 'react-router';\nimport {App, GridList} from './components';\n\nconst routes = (\n  <Router history={browserHistory}>\n      <Route path=\"/\" component={App}>\n         <IndexRoute component={GridList} />\n      </Route>\n  </Router>\n)\n\nexport default routes;\n\n\n// WEBPACK FOOTER //\n// ./client/routes.js","import {\n  createMapSaga\n} from './mapsaga';\n\nexport default function* rootSaga() {\n  console.log(\"sagas spawned\");\n  yield [\n    createMapSaga()\n  ];\n}\n\n\n// WEBPACK FOOTER //\n// ./client/sagas/index.js","import axios from 'axios';\nimport {\n    put,\n    call,\n    takeEvery\n} from 'redux-saga/effects';\n\nfunction getMaps() {\n    return axios.get(\"/api/list\");\n}\n\nfunction* getMapDetails() {\n    const results = yield call(getMaps);\n    // console.log(results.data);\n    yield put({\n        type: 'UPDATE_MAPS',\n        maps: results.data\n    });\n}\n\nexport function* createMapSaga() {\n    yield takeEvery('FETCH_MAPS', getMapDetails);\n}\n\n\n// WEBPACK FOOTER //\n// ./client/sagas/mapsaga.js","import EventEmitter from 'events';\n\nclass ServiceLoader extends EventEmitter {\n    constructor(scriptname) {\n        super();\n        this.script = scriptname;\n        const onSuccess = this.onSuccess.bind(this);\n        const onError = this.onError.bind(this);\n        navigator.serviceWorker.register(scriptname)\n            .then((reg) => onSuccess(reg))\n            .catch((err) => onError(err));\n    } \n\n    onSuccess(reg) {\n        console.log(reg.waiting);\n        console.log(reg.installing);\n        let self = this;\n        console.log(\"registed\");\n        if (!navigator.serviceWorker.controller)\n            return;\n\n        if (reg.waiting) {\n            self.emit('update', reg.waiting);\n            return;\n        }\n        if (reg.installing){\n            let track = this.onTrack.bind(this,  reg.installing);\n            track();\n            return;\n        }\n\n        reg.addEventListener('updatefound', function(){\n            console.log(\"update found\");\n            self.onTrack(reg.installing);\n        });\n\n        reg.addEventListener('controllerchange', function(){\n            window.location.reload();\n        });\n    }\n\n    onError(err) {\n        console.error(err);\n    }\n\n    onTrack(event){\n        var self = this;\n        console.log(\"tracking\");\n        event.addEventListener('statechange', function(){\n            if (event.state == 'installed'){\n                self.emit('installed', event);\n            }\n         });\n    }\n\n}\n\nexport default ServiceLoader;\n\n\n// WEBPACK FOOTER //\n// ./client/serviceloader.js","import { createStore, applyMiddleware, compose } from \"redux\";\nimport DevTools from \"./devtool\";\nimport { reducers } from \"./reducers/index\";\nimport createLogger from \"redux-logger\";\nimport createSagaMiddleware from 'redux-saga'\nimport rootSaga from './sagas';\nlet enhancers;\nconst sagaMiddleWare = createSagaMiddleware();\nconst middleware = applyMiddleware(sagaMiddleWare);\nif(process.env.NODE_ENV == 'production'){\n  enhancers =  compose(middleware);\n}\nelse{\n  enhancers =  compose(middleware, DevTools.instrument());\n}\nconst store = createStore(reducers, {}, enhancers);\nsagaMiddleWare.run(rootSaga);\nexport default store;\n\n\n// WEBPACK FOOTER //\n// ./client/store.js","export * from './mapaction';\n\n\n// WEBPACK FOOTER //\n// ./client/actions/index.js","export function update(){\n    return {\n        type: 'FETCH_MAPS'\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./client/actions/mapaction.js"],"sourceRoot":""}